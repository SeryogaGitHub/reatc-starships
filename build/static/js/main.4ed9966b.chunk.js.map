{"version":3,"sources":["redux/shipsReducer.js","components/Ships/Pagination.js","components/common/Preloader.js","components/Ships/Ships.js","components/Ships/ShipsContainer.js","components/Ships/Ship.js","components/Ships/ShipContainer.js","App.js","serviceWorker.js","redux/redux-store.js","index.js"],"names":["initialState","ships","pageSize","totalCount","currentPage","searchCurrentPage","searchTest","isFetching","profile","setShips","type","setIsFetching","fetching","shipsReducer","state","action","page","count","Pagination","props","onChangePages","portionSize","pageCount","Math","ceil","pages","i","push","pointCount","useState","pointNumber","setPointNumber","leftPortionNumber","rightPortionNumber","className","onClick","filter","p","map","key","Preloader","Ships","onSearch","ship","to","url","Number","replace","name","model","length","consumables","placeholder","onChange","e","target","value","ShipsContainer","setCurrentPage","axios","get","then","response","data","results","text","searchShips","setTotalCount","history","this","React","Component","ShipsContainerWithRouter","withRouter","connect","shipsPage","Ship","ShipContainer","setProfile","userId","match","params","ShipContainerWithRouter","App","exact","path","render","Boolean","window","location","hostname","reducers","combineReducers","store","createStore","rerenderEntireTree","ReactDOM","document","getElementById","subscribe","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.4ed9966b.chunk.js","sourcesContent":["const SET_SHIPS = \"SET_SHIPS\";\r\nconst SET_PROFILE = \"SET_PROFILE\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_COUNT = \"SET_TOTAL_COUNT\";\r\nconst SEARCH_SHIPS = \"SEARCH_SHIPS\";\r\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\";\r\n\r\nconst initialState = {\r\n  ships: [],\r\n  pageSize: 10,\r\n  totalCount: 0,\r\n  currentPage: 1,\r\n  searchCurrentPage: 1,\r\n  searchTest: null,\r\n  isFetching: false,\r\n  profile: null,\r\n};\r\n\r\nconst shipsReducer = (state = initialState, action) => {\r\n  switch(action.type){\r\n    case SET_SHIPS: {\r\n      return {...state, ships: action.ships}\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return {...state, currentPage: action.page};\r\n    }\r\n    case SET_TOTAL_COUNT: {\r\n      return {...state, totalCount: action.count};\r\n    }\r\n    case SET_PROFILE: {\r\n      return {...state, profile: action.profile};\r\n    }\r\n    case SEARCH_SHIPS: {\r\n      return {...state, ships: action.ships}\r\n    }\r\n    case SET_IS_FETCHING: {\r\n      return {...state, isFetching: action.fetching}\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setShips = (ships) => ({type: SET_SHIPS, ships});\r\nexport const searchShips = (ships) => ({type: SEARCH_SHIPS, ships});\r\nexport const setCurrentPage = (page) => ({type: SET_CURRENT_PAGE, page});\r\nexport const setTotalCount = (count) => ({type: SET_TOTAL_COUNT, count});\r\nexport const setProfile = (profile) => ({type: SET_PROFILE, profile});\r\nexport const setIsFetching = (fetching) => ({type: SET_IS_FETCHING, fetching});\r\n\r\nexport default shipsReducer;\r\n","import React, {useState} from 'react';\r\n\r\nlet Pagination = (props) => {\r\n  const {pageSize, totalCount, currentPage, onChangePages, portionSize = 3} = props;\r\n\r\n  const activePage = 'active';\r\n\r\n  let pageCount = Math.ceil(totalCount / pageSize);\r\n  let pages = [];\r\n\r\n  for (let i = 1; i <= pageCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let pointCount = Math.ceil(pageCount / portionSize);\r\n  let [pointNumber, setPointNumber] = useState(1);\r\n  let leftPortionNumber = (pointNumber - 1) * portionSize +1;\r\n  let rightPortionNumber = pointNumber * portionSize;\r\n\r\n  return (\r\n    <ul className=\"pagination\">\r\n      {pointNumber > 1 &&\r\n      <button className=\"arrow\" onClick={() => {setPointNumber(pointNumber - 1)}}>&larr;</button>}\r\n\r\n      {pages\r\n        .filter(p => p >= leftPortionNumber && p <= rightPortionNumber)\r\n        .map((p, i) => {\r\n        return <li key={i} className={currentPage === p ? activePage : \"\"}\r\n                   onClick={() => {\r\n                     onChangePages(p);\r\n                   }}>{p}</li>;\r\n      })}\r\n\r\n      {pointCount > pointNumber &&\r\n      <button className=\"arrow\" onClick={() => {setPointNumber(pointNumber + 1)}}>&rarr;</button>}\r\n    </ul>\r\n  );\r\n};\r\nexport default Pagination;\r\n","import React from \"react\";\r\n\r\nlet Preloader = () => {\r\n  return <div className={'placeholder'}>\r\n    <div className=\"loader\"> </div>\r\n  </div>;\r\n};\r\n\r\nexport default Preloader;\r\n","import React from \"react\";\r\nimport Pagination from \"./Pagination\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Preloader from \"../common/Preloader\";\r\n\r\nconst Ships = (props) => {\r\n  const {ships, currentPage, totalCount, pageSize, onSearch, onChangePages, isFetching} = props;\r\n\r\n  let setIdProfile = (url) => {\r\n    return Number(url.replace(/\\D+/g,\"\"))\r\n  };\r\n\r\n  let setShips = ships.map((ship, i) =>\r\n    <NavLink key={i} to={'/starships/' + setIdProfile(ship.url)} className={'ship'}>\r\n      <h2>{ship.name}</h2>\r\n\r\n      <ul>\r\n        <li>Model: {ship.model}</li>\r\n        <li>Length: {ship.length}</li>\r\n        <li>Consumables: {ship.consumables}</li>\r\n      </ul>\r\n    </NavLink>\r\n  );\r\n\r\n  return(\r\n    <div className={\"ships-page\"}>\r\n      <input type=\"search\" className={\"search\"} placeholder={\"Search\"} onChange={(e)=> onSearch(e.target.value)}/>\r\n\r\n      <Pagination currentPage={currentPage}\r\n                  totalCount={totalCount}\r\n                  pageSize={pageSize}\r\n                  onChangePages={onChangePages}/>\r\n\r\n      <div className={'ships-list'}>\r\n        {isFetching ? <Preloader/> : null}\r\n\r\n        {setShips}\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Ships;\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {setShips, setCurrentPage, setTotalCount, searchShips, setIsFetching} from \"../../redux/shipsReducer\";\r\nimport Ships from \"./Ships\";\r\nimport axios from 'axios';\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nclass ShipsContainer extends React.Component {\r\n  componentDidMount() {\r\n    const {setShips, setTotalCount, setIsFetching} = this.props;\r\n    setIsFetching(true);\r\n\r\n    axios.get(`https://swapi.co/api/starships/`)\r\n      .then(response => {\r\n        setShips(response.data.results);\r\n        setTotalCount(response.data.count);\r\n        setIsFetching(false);\r\n      });\r\n  }\r\n\r\n  onChangePages = (page) => {\r\n    const {setShips, setCurrentPage, setIsFetching} = this.props;\r\n    setCurrentPage(page);\r\n    setIsFetching(true);\r\n\r\n    axios.get(`https://swapi.co/api/starships/?page=${page}`)\r\n      .then(response => {\r\n        setShips(response.data.results);\r\n        setIsFetching(false);\r\n      });\r\n  };\r\n\r\n  onSearch = (text) => {\r\n    const {searchShips, setIsFetching, setTotalCount, currentPage} = this.props;\r\n    if(text.length){\r\n      setIsFetching(true);\r\n\r\n      axios.get(`https://swapi.co/api/starships/?search=${text}`)\r\n        .then(response => {\r\n          searchShips(response.data.results);\r\n          setTotalCount(response.data.count);\r\n          this.props.history.push(`?search=${text}&page=${currentPage}`);\r\n          setIsFetching(false);\r\n        });\r\n    } else{\r\n      this.props.history.push(`/`);\r\n      setIsFetching(true);\r\n\r\n      axios.get(`https://swapi.co/api/starships/`)\r\n        .then(response => {\r\n          setShips(response.data.results);\r\n          setTotalCount(response.data.count);\r\n          setIsFetching(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  render(){\r\n    const {ships, isFetching, setCurrentPage, totalCount, pageSize, currentPage} = this.props;\r\n    return (<>\r\n      <Ships ships={ships}\r\n                  setCurrentPage={setCurrentPage}\r\n                  totalCount={totalCount}\r\n                  pageSize={pageSize}\r\n                  currentPage={currentPage}\r\n                  onChangePages={this.onChangePages}\r\n                  onSearch={this.onSearch}\r\n                  isFetching={isFetching}\r\n    />\r\n    </>)\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return{\r\n    ships: state.shipsPage.ships,\r\n    pageSize: state.shipsPage.pageSize,\r\n    currentPage: state.shipsPage.currentPage,\r\n    totalCount: state.shipsPage.totalCount,\r\n    isFetching: state.shipsPage.isFetching\r\n  }\r\n};\r\n\r\nlet ShipsContainerWithRouter = withRouter(ShipsContainer);\r\nexport default connect(mapStateToProps, {setShips, setCurrentPage, setTotalCount, searchShips, setIsFetching})(ShipsContainerWithRouter);\r\n","import React from \"react\";\r\nimport Preloader from \"../common/Preloader\";\r\n\r\nconst Ship = (props) => {\r\n  const {profile, isFetching} = props;\r\n\r\n  if (!props.profile){\r\n    return <Preloader/>;\r\n  }\r\n  return(\r\n    <div className={\"ship-page\"}>\r\n      {isFetching ? <Preloader/> : null}\r\n\r\n      <h2>{profile.name}</h2>\r\n\r\n      <ul>\r\n        <li>Model: {profile.model}</li>\r\n        <li>Length: {profile.length}</li>\r\n        <li>Consumables: {profile.consumables}</li>\r\n      </ul>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Ship;\r\n","import React from \"react\";\r\nimport Ship from \"./Ship\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport axios from 'axios';\r\nimport {setIsFetching, setProfile} from \"../../redux/shipsReducer\";\r\n\r\nclass ShipContainer extends React.Component{\r\n  componentDidMount() {\r\n    const {setProfile, setIsFetching} = this.props;\r\n    let {userId} = this.props.match.params;\r\n    setIsFetching(true);\r\n\r\n    axios.get('https://swapi.co/api/starships/'+userId)\r\n      .then((response) => {\r\n        setProfile(response.data);\r\n        setIsFetching(false);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {profile, isFetching} = this.props;\r\n    return <Ship profile={profile} isFetching={isFetching}/>\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return{\r\n    profile: state.shipsPage.profile,\r\n    isFetching: state.shipsPage.isFetching\r\n  };\r\n};\r\n\r\nlet ShipContainerWithRouter = withRouter(ShipContainer);\r\n\r\nexport default connect(mapStateToProps, {setProfile, setIsFetching})(ShipContainerWithRouter);\r\n","import React from 'react';\nimport {NavLink, Route} from \"react-router-dom\";\nimport ShipsContainer from \"./components/Ships/ShipsContainer\";\nimport './App.css';\nimport ShipContainer from \"./components/Ships/ShipContainer\";\n\nfunction App() {\n  return (\n    <div className=\"center\">\n      <NavLink to='/' className={'link'}>Main page</NavLink>\n      <Route exact path='/' render={() => <ShipsContainer/>}/>\n      <Route path='/starships/:userId?' render={() => <ShipContainer/>}/>\n      <Route path='/:text?&:page?' render={() => <ShipContainer/>}/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {combineReducers, createStore} from \"redux\";\r\nimport shipsReducer from \"./shipsReducer\";\r\n\r\nlet reducers = combineReducers({\r\n  shipsPage: shipsReducer\r\n});\r\n\r\nlet store = createStore(reducers);\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/redux-store\";\n\nconst rerenderEntireTree = () => {\n  ReactDOM.render(\n    <BrowserRouter>\n      <Provider store={store}>\n        <App/>\n      </Provider>\n    </BrowserRouter>, document.getElementById('root'));\n};\n\nrerenderEntireTree();\n\nstore.subscribe(() => {\n  rerenderEntireTree();\n});\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}